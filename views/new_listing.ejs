<!DOCTYPE html>
<html lang="en">

<%- include('partials/head.ejs', { title: 'Listings' , script: false }) %>

    <body>
        <div class="navbar">
            <a href="/">Main page</a>
        </div>
        <div>
            <form action="/new_listing" method="post">
                <div>
                    <label for="city">City</label>
                    <input type="text" name="city" id="city" required>
                    <label for="district">City District</label>
                    <input type="text" name="district" id="district" required>
                </div>
                <div>
                    <label for="area">Area (m<sup>2</sup>)</label>
                    <input type="number" name="area" id="area" step="0.01" min="0.01" required>
                    <label for="rooms">Number of rooms</label>
                    <input type="number" name="rooms" id="rooms" min="1" required>
                </div>
                <div>
                    <label for="price">Price ($)</label>
                    <input type="number" name="price" id="price" step="0.01" min="0.01" required>
                    <label for="date">For sale since:</label>
                    <input type="date" name="date" id="date" required>
                </div>
                <div>
                    <label for="user">User</label>
                    <select name="user" id="user">
                        <% users.forEach((user)=> { %>
                            <option value="<%=user.UserID%>">
                                <%=user.Username%>
                            </option>
                            <% }); %>
                    </select>
                </div>
                <div>
                    <button type="submit">Post new listing</button>
                </div>
            </form>
        </div>
        <div>
            <% if (message) { %>
                <p class="error">
                    <%= message %>
                </p>
                <% } %>
        </div>
    </body>

</html>